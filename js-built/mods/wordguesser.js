define(["jquery"],function(a){var b={target:"#js-wordguess",letterClass:".main-title-letter",mode:"full",onComplete:a.noop,availChars:"abcdefhiklmnorstuvwxz1234567890.,!$&?"},c=function(d){if(this instanceof c)this.configs=a.extend({},b,d),this.$target=a(this.configs.target),this.tmpl='<span class="'+this.configs.letterClass.replace(".","")+'">{{char}}</span>',this.text=this.$target.text(),this.letters=this.text.split(""),this.word=[],this.idx=0,this.incr=1,this.$target.text(""),this.setMode(this.configs.mode);else return new c(d)};return c.prototype={guess:function(){var a=this.configs,b=Math.floor(Math.random()*a.availChars.length);return a.availChars.substring(b,b+1)},setMode:function(a){a.toLowerCase()!=="full"&&(this.idx=this.letters.length-1,this.incr=0,this.word=this.letters)},isMatch:function(a,b){return a===this.text.substring(b,b+1)},isLastChar:function(a){return a===this.text.length-1},render:function(){var a=this.guess(),b=this.idx;return this.word[b]=this.tmpl.replace("{{char}}",a),this.isMatch(a,b)&&(this.word[b]=a,this.idx+=this.incr),this.$target.html(this.word.join("")),this.isMatch(a,b)&&this.isLastChar(b)?(typeof this.configs.onComplete=="function"&&this.configs.onComplete(),!1):!0}},c})